import{r as a,j as e,C as I}from"./index--2Vg46XJ.js";import{S as b}from"./sweetalert2.all-BHDornT5.js";import{C as L,a as K,b as O}from"./CForm-uSoNT2u_.js";import{C as q}from"./index-Bp6JkL8A.js";import{C as z}from"./CAlert-CwhgRHPq.js";import{o as Z,p as G,q as k,r as o,s as J,t as n,n as ee}from"./DefaultLayout-JRVaWF0p.js";import{a as x}from"./CFormInput-DcpM5UbD.js";import{b as w,c as M,d as v,e as T}from"./logo1-B-TheImU.js";import{C as N}from"./CModalTitle-Bc9MZI4H.js";import{C as X}from"./CFormTextarea-CBhWhc4W.js";import{C as se,a as re,b as R,c as V}from"./CTabList-CBQhSo-p.js";import"./CCloseButton-CvX7nGj0.js";import"./index.esm-CI-HiMCL.js";import"./cil-user-Ddrdy7PS.js";import"./getTransitionDurationFromElement-Cpu4p4hx.js";const $={_origin:"https://api.emailjs.com"},ae=(l,t="https://api.emailjs.com")=>{$._userID=l,$._origin=t},W=(l,t,h)=>{if(!l)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!h)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class U{constructor(t){this.status=t.status,this.text=t.responseText}}const Y=(l,t,h={})=>new Promise((j,d)=>{const m=new XMLHttpRequest;m.addEventListener("load",({target:c})=>{const i=new U(c);i.status===200||i.text==="OK"?j(i):d(i)}),m.addEventListener("error",({target:c})=>{d(new U(c))}),m.open("POST",$._origin+l,!0),Object.keys(h).forEach(c=>{m.setRequestHeader(c,h[c])}),m.send(t)}),te=(l,t,h,j)=>{const d=j||$._userID;return W(d,l,t),Y("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:d,service_id:l,template_id:t,template_params:h}),{"Content-type":"application/json"})},le=l=>{let t;if(typeof l=="string"?t=document.querySelector(l):t=l,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},oe=(l,t,h,j)=>{const d=j||$._userID,m=le(h);W(d,l,t);const c=new FormData(m);return c.append("lib_version","3.2.0"),c.append("service_id",l),c.append("template_id",t),c.append("user_id",d),Y("/api/v1.0/email/send-form",c)},Q={init:ae,send:te,sendForm:oe};function ne(){const[l,t]=a.useState([]),[h,j]=a.useState(!0),[d,m]=a.useState(""),[c,i]=a.useState(!1),[F,f]=a.useState(""),[g,y]=a.useState(""),[C,A]=a.useState(""),[P,_]=a.useState(""),[B,p]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token");if(!r)throw new Error("Authentication token not found");const u=await fetch("http://192.168.13.244:8594/api/registrations/getMemberFeedback?feedbackType=congrats",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);const E=await u.json();t(Array.isArray(E)?E:[])}catch(r){console.error("Error fetching data:",r),m(r.message)}finally{j(!1)}})()},[]);const H=s=>{f(s.email),A(s.name),i(!0),console.log(s.email)},S=()=>{i(!1),f(""),y("")},D=()=>{const s={email:F,subject:"Compliments Response",message:`Hello ${C},

 ${g}`};Q.send("service_v2vm3zj","template_buj7p5i",s,"8Tn-sABtVH3vPgLtE").then(()=>{b.fire({icon:"success",title:"Email sent successfully",text:"Successfully"}),i(!1)}).catch(r=>{console.error("Error sending email:",r),b.fire({icon:"error",title:"Failed to send email.",text:"Failed"}),i(!1)})};return e.jsxs(L,{className:"mb-4",children:[e.jsx(q,{style:{backgroundColor:"rgba(22, 89, 177, 0.925)"},children:e.jsx("h3",{style:{color:"#fff"},children:"Compliments"})}),e.jsx(K,{children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(I,{color:"primary"}),e.jsx("p",{children:"Loading..."})]}):d?e.jsxs(z,{color:"danger",children:["Error: ",d]}):l.length===0?e.jsx("p",{children:"No records found."}):e.jsxs(Z,{striped:!0,bordered:!0,hover:!0,children:[e.jsx(G,{color:"primary",children:e.jsxs(k,{children:[e.jsx(o,{children:"#"}),e.jsx(o,{children:"Name"}),e.jsxs(o,{children:[e.jsx("span",{style:{fontSize:"12px"},children:e.jsx("i",{children:"(Click for more message)"})})," ",e.jsx("br",{})," Message "]}),e.jsx(o,{children:"Feed back Type"}),e.jsx(o,{children:"Email"}),e.jsx(o,{children:"ZpNumber"}),e.jsx(o,{children:"posted Date"}),e.jsx(o,{children:"Action"})]})}),e.jsx(J,{children:l.map((s,r)=>e.jsxs(k,{children:[e.jsx(n,{children:r+1}),e.jsx(n,{children:s.name}),e.jsx(n,{onClick:()=>{p(!0),_(s.message)},children:s.message.slice(0,30)+"..."}),e.jsx(n,{children:s.FeedbackType}),e.jsx(n,{children:s.email}),e.jsx(n,{children:s.ZpNumber}),e.jsx(n,{children:s.createdAt}),e.jsx(n,{children:e.jsx(x,{color:"primary",size:"sm",onClick:()=>H(s),children:"Send Email"})})]},r))})]})}),e.jsxs(w,{visible:c,onClose:S,children:[e.jsx(M,{closeButton:!0,children:e.jsx(N,{children:"Send Email"})}),e.jsx(v,{children:e.jsxs(O,{children:[e.jsx("div",{className:"mb-3",children:`Hello ${C},`}),e.jsx("div",{className:"mb-3",children:e.jsx(X,{rows:"4",value:g,onChange:s=>y(s.target.value),placeholder:"Enter your message..."})})]})}),e.jsxs(T,{children:[e.jsx(x,{color:"secondary",onClick:S,children:"Close"}),e.jsx(x,{color:"primary",onClick:D,children:"Send"})]})]}),e.jsxs(w,{alignment:"center",visible:B,onClose:()=>p(!1),"aria-labelledby":"VerticallyCenteredExample",children:[e.jsx(M,{children:e.jsx(N,{id:"VerticallyCenteredExample",children:"Message"})}),e.jsx(v,{children:P}),e.jsx(T,{children:e.jsx(x,{color:"secondary",onClick:()=>p(!1),children:"Close"})})]})]})}function ie(){const[l,t]=a.useState([]),[h,j]=a.useState(!0),[d,m]=a.useState(""),[c,i]=a.useState(!1),[F,f]=a.useState(""),[g,y]=a.useState(""),[C,A]=a.useState(""),[P,_]=a.useState(""),[B,p]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token");if(!r)throw new Error("Authentication token not found");const u=await fetch("http://192.168.13.244:8594/api/registrations/getMemberFeedback?feedbackType=complaint",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);const E=await u.json();t(Array.isArray(E)?E:[])}catch(r){console.error("Error fetching data:",r),m(r.message)}finally{j(!1)}})()},[]);const H=s=>{f(s.email),A(s.name),i(!0),console.log(s.email)},S=()=>{i(!1),f(""),y("")},D=()=>{const s={email:F,subject:"Complains Response",message:`Hello ${C},

 ${g}`};Q.send("service_v2vm3zj","template_buj7p5i",s,"8Tn-sABtVH3vPgLtE").then(()=>{b.fire({icon:"success",title:"Email sent successfully",text:"Successfully"}),i(!1)}).catch(r=>{console.error("Error sending email:",r),b.fire({icon:"error",title:"Failed to send email.",text:"Failed"}),i(!1)})};return e.jsxs(L,{className:"mb-4",children:[e.jsx(q,{style:{backgroundColor:"rgba(22, 89, 177, 0.925)"},children:e.jsx("h3",{style:{color:"#fff"},children:"Complains"})}),e.jsx(K,{children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(I,{color:"primary"}),e.jsx("p",{children:"Loading..."})]}):d?e.jsxs(z,{color:"danger",children:["Error: ",d]}):l.length===0?e.jsx("p",{children:"No records found."}):e.jsxs(Z,{striped:!0,bordered:!0,hover:!0,children:[e.jsx(G,{color:"primary",children:e.jsxs(k,{children:[e.jsx(o,{children:"#"}),e.jsx(o,{children:"Name"}),e.jsxs(o,{children:[e.jsx("span",{style:{fontSize:"12px"},children:e.jsx("i",{children:"(Click for more message)"})})," ",e.jsx("br",{})," Message "]}),e.jsx(o,{children:"Feed back Type"}),e.jsx(o,{children:"Email"}),e.jsx(o,{children:"ZpNumber"}),e.jsx(o,{children:"posted Date"}),e.jsx(o,{children:"Action"})]})}),e.jsx(J,{children:l.map((s,r)=>e.jsxs(k,{children:[e.jsx(n,{children:r+1}),e.jsx(n,{children:s.name}),e.jsx(n,{onClick:()=>{p(!0),_(s.message)},children:s.message.slice(0,30)+"..."}),e.jsx(n,{children:s.FeedbackType}),e.jsx(n,{children:s.email}),e.jsx(n,{children:s.ZpNumber}),e.jsx(n,{children:s.createdAt}),e.jsx(n,{children:e.jsx(x,{color:"primary",size:"sm",onClick:()=>H(s),children:"Send Email"})})]},r))})]})}),e.jsxs(w,{visible:c,onClose:S,children:[e.jsx(M,{closeButton:!0,children:e.jsx(N,{children:"Send Email"})}),e.jsx(v,{children:e.jsxs(O,{children:[e.jsx("div",{className:"mb-3",children:`Hello ${C},`}),e.jsx("div",{className:"mb-3",children:e.jsx(X,{rows:"4",value:g,onChange:s=>y(s.target.value),placeholder:"Enter your message..."})})]})}),e.jsxs(T,{children:[e.jsx(x,{color:"secondary",onClick:S,children:"Close"}),e.jsx(x,{color:"primary",onClick:D,children:"Send"})]})]}),e.jsxs(w,{alignment:"center",visible:B,onClose:()=>p(!1),"aria-labelledby":"VerticallyCenteredExample",children:[e.jsx(M,{children:e.jsx(N,{id:"VerticallyCenteredExample",children:"Message"})}),e.jsx(v,{children:P}),e.jsx(T,{children:e.jsx(x,{color:"secondary",onClick:()=>p(!1),children:"Close"})})]})]})}function ce(){const[l,t]=a.useState([]),[h,j]=a.useState(!0),[d,m]=a.useState(""),[c,i]=a.useState(!1),[F,f]=a.useState(""),[g,y]=a.useState(""),[C,A]=a.useState(""),[P,_]=a.useState(""),[B,p]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const r=localStorage.getItem("token");if(!r)throw new Error("Authentication token not found");const u=await fetch("http://192.168.13.244:8594/api/registrations/getMemberFeedback?feedbackType=Proposal",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);const E=await u.json();t(Array.isArray(E)?E:[])}catch(r){console.error("Error fetching data:",r),m(r.message)}finally{j(!1)}})()},[]);const H=s=>{f(s.email),A(s.name),i(!0),console.log(s.email)},S=()=>{i(!1),f(""),y("")},D=()=>{const s={email:F,subject:"Proposal Response",message:`Hello ${C},

 ${g}`};Q.send("service_v2vm3zj","template_buj7p5i",s,"8Tn-sABtVH3vPgLtE").then(()=>{b.fire({icon:"success",title:"Email sent successfully",text:"Successfully"}),i(!1)}).catch(r=>{console.error("Error sending email:",r),b.fire({icon:"error",title:"Failed to send email.",text:"Failed"}),i(!1)})};return e.jsxs(L,{className:"mb-4",children:[e.jsx(q,{style:{backgroundColor:"rgba(22, 89, 177, 0.925)"},children:e.jsx("h3",{style:{color:"#fff"},children:"Proposals"})}),e.jsx(K,{children:h?e.jsxs("div",{className:"text-center",children:[e.jsx(I,{color:"primary"}),e.jsx("p",{children:"Loading..."})]}):d?e.jsxs(z,{color:"danger",children:["Error: ",d]}):l.length===0?e.jsx("p",{children:"No records found."}):e.jsxs(Z,{striped:!0,bordered:!0,hover:!0,children:[e.jsx(G,{color:"primary",children:e.jsxs(k,{children:[e.jsx(o,{children:"#"}),e.jsx(o,{children:"Name"}),e.jsxs(o,{children:[e.jsx("span",{style:{fontSize:"12px"},children:e.jsx("i",{children:"(Click for more message)"})})," ",e.jsx("br",{})," Message "]}),e.jsx(o,{children:"Feedback Type"}),e.jsx(o,{children:"Email"}),e.jsx(o,{children:"ZpNumber"}),e.jsx(o,{children:"Posted Date"}),e.jsx(o,{children:"Action"})]})}),e.jsx(J,{children:l.map((s,r)=>e.jsxs(k,{children:[e.jsx(n,{children:r+1}),e.jsx(n,{children:s.name}),e.jsx(n,{onClick:()=>{p(!0),_(s.message)},children:s.message.slice(0,30)+"..."}),e.jsx(n,{children:s.FeedbackType}),e.jsx(n,{children:s.email}),e.jsx(n,{children:s.ZpNumber}),e.jsx(n,{children:s.createdAt}),e.jsx(n,{children:e.jsx(x,{color:"primary",size:"sm",onClick:()=>H(s),children:"Send Email"})})]},r))})]})}),e.jsxs(w,{visible:c,onClose:S,children:[e.jsx(M,{closeButton:!0,children:e.jsx(N,{children:"Send Email"})}),e.jsx(v,{children:e.jsxs(O,{children:[e.jsx("div",{className:"mb-3",children:`Hello ${C},`}),e.jsx("div",{className:"mb-3",children:e.jsx(X,{rows:"4",value:g,onChange:s=>y(s.target.value),placeholder:"Enter your message..."})})]})}),e.jsxs(T,{children:[e.jsx(x,{color:"secondary",onClick:S,children:"Close"}),e.jsx(x,{color:"primary",onClick:D,children:"Send"})]})]}),e.jsxs(w,{alignment:"center",visible:B,onClose:()=>p(!1),"aria-labelledby":"VerticallyCenteredExample",children:[e.jsx(M,{children:e.jsx(N,{id:"VerticallyCenteredExample",children:"Message"})}),e.jsx(v,{children:P}),e.jsx(T,{children:e.jsx(x,{color:"secondary",onClick:()=>p(!1),children:"Close"})})]})]})}function we(){return e.jsx(e.Fragment,{children:e.jsxs(L,{style:{boxShadow:"0px -2px 19px 1px rgba(0,0,0,0.39)",padding:"15px"},children:[e.jsx(z,{style:{backgroundColor:"rgba(22, 89, 177, 0.925)"},children:e.jsx("h3",{style:{color:"#fff"},children:"Members FeedBack"})}),e.jsxs(se,{activeItemKey:"Remarks",children:[e.jsxs(re,{variant:"tabs",children:[e.jsx(R,{itemKey:"Remarks",children:"Compliments"}),e.jsx(R,{itemKey:"Proposal",children:"Proposal"}),e.jsx(R,{itemKey:"Complains",children:"Complains"})]}),e.jsxs(ee,{children:[e.jsx(V,{className:"p-3",itemKey:"Remarks",style:{backgroundColor:"#fff"},children:e.jsx(ne,{})}),e.jsx(V,{className:"p-3",itemKey:"Proposal",style:{backgroundColor:"#fff"},children:e.jsx(ce,{})}),e.jsx(V,{className:"p-3",itemKey:"Complains",style:{backgroundColor:"#fff"},children:e.jsx(ie,{})})]})]})]})})}export{we as default};
