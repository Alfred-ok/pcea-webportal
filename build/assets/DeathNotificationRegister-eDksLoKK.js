import{r as h,j as e}from"./index-C94lwiJv.js";import{c as x}from"./index-CynBYxOh.js";import{C as j,a as y,b}from"./CForm-By0H7RBh.js";import{C as _}from"./CCardTitle-Bc26m0la.js";import{C as u}from"./CAlert-h_oXZGtT.js";import{C as n,a}from"./CRow-Bgj36awN.js";import{c as s,b as o,a as g}from"./CFormInput-ChrqK6Lh.js";import{C as f}from"./CFormTextarea-qcd-aoMf.js";import"./CCloseButton-fePu8NsK.js";const F=()=>{const[r,m]=h.useState({deceased_name:"",id_number:"",date_of_death:"",place_of_death:"",reported_by:"",reporter_contact:"",relationship:"",remarks:"",created_at:new Date().toISOString().split("T")[0],dateofbirth:"",zp_number:""}),[d,c]=h.useState({message:"",type:""}),t=l=>{m({...r,[l.target.name]:l.target.value})},p=async l=>{l.preventDefault(),console.log(r);try{const i=await fetch("http://192.168.12.245:8594/api/registrations/DeathNotification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});console.log(i),i.ok?(c({message:"Service request registered successfully",type:"success"}),m({deceased_name:"",id_number:"",date_of_death:"",place_of_death:"",reported_by:"",reporter_contact:"",relationship:"",remarks:"",created_at:new Date().toISOString().split("T")[0],dateofbirth:"",zp_number:""})):c({message:i.statusDescription,type:"danger"})}catch{c({message:"Error submitting data.",type:"danger"})}};return e.jsx(j,{className:"p-2",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",maxWidth:"70rem",margin:"0 auto"},children:e.jsxs(y,{children:[e.jsx(_,{children:e.jsxs(u,{color:"primary",variant:"solid",style:{display:"flex"},children:[e.jsx(x,{className:"nav-icon",size:40}),e.jsx("h3",{children:"Death Notification Registration"})]})}),d.message&&e.jsx(u,{color:d.type,children:d.message}),e.jsxs(b,{onSubmit:p,children:[e.jsxs(n,{children:[e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Deceased Name (Full name)"}),e.jsx(o,{type:"text",name:"deceased_name",value:r.deceased_name,onChange:t,required:!0})]}),e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"ID Number"}),e.jsx(o,{type:"number",name:"id_number",value:r.id_number,onChange:t,required:!0})]})]}),e.jsxs(n,{className:"mt-3",children:[e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Date of Death"}),e.jsx(o,{type:"date",name:"date_of_death",value:r.date_of_death,onChange:t,required:!0})]}),e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Place of Death"}),e.jsx(o,{type:"text",name:"place_of_death",value:r.place_of_death,onChange:t,required:!0})]})]}),e.jsxs(n,{className:"mt-3",children:[e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Reported By"}),e.jsx(o,{type:"text",name:"reported_by",value:r.reported_by,onChange:t,required:!0})]}),e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Reporter Contact"}),e.jsx(o,{type:"number",name:"reporter_contact",value:r.reporter_contact,onChange:t,required:!0})]})]}),e.jsxs(n,{className:"mt-3",children:[e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Relationship"}),e.jsx(o,{type:"text",name:"relationship",value:r.relationship,onChange:t,required:!0})]}),e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Date of Birth"}),e.jsx(o,{type:"date",name:"dateofbirth",value:r.dateofbirth,onChange:t,required:!0})]})]}),e.jsxs(n,{className:"mt-3",children:[e.jsxs(a,{md:6,children:[e.jsxs(s,{style:{color:"blue"},children:["ZP Number ",e.jsx("i",{children:"e.g ZP123456"})]}),e.jsx(o,{type:"text",name:"zp_number",value:r.zp_number,onChange:t,required:!0})]}),e.jsxs(a,{md:6,children:[e.jsx(s,{style:{color:"blue"},children:"Remarks"}),e.jsx(f,{name:"remarks",value:r.remarks,onChange:t,rows:"2"})]})]}),e.jsx(g,{type:"submit",color:"primary",className:"mt-4",children:"Register"})]})]})})};export{F as default};
