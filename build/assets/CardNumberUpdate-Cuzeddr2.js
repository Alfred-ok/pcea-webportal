import{r as o,j as e}from"./index-C94lwiJv.js";import{C,a as g,b as x}from"./CForm-By0H7RBh.js";import{C as y}from"./index-CynBYxOh.js";import{C as c}from"./CAlert-h_oXZGtT.js";import{c as p,b,a as N}from"./CFormInput-ChrqK6Lh.js";import"./CCloseButton-fePu8NsK.js";const S=()=>{const[r,n]=o.useState({ZPNumber:"",EPCNumber:""}),[i,l]=o.useState(!1),[a,t]=o.useState(null),d=s=>{n({...r,[s.target.name]:s.target.value})},h=async s=>{s.preventDefault(),l(!0);try{const m=await fetch("http://192.168.12.245:8594/api/registrations/UpdateMember",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(m.ok){const u=await m.json();console.log(u),u.status=="00"&&t({message:"Member updated successfully!",type:"success"})}else t({message:"Error updating member. Please try again.",type:"danger"})}catch{t({message:"Error updating member. Please try again.",type:"danger"})}l(!1),n({ZPNumber:"",EPCNumber:""})};return e.jsxs(C,{className:"max-w-md mx-auto shadow-lg",children:[e.jsx(y,{className:"p-3",children:e.jsx(c,{color:"primary",variant:"solid",children:e.jsx("div",{style:{display:"flex"},children:e.jsx("h3",{style:{marginLeft:"10px"},children:"Update Card Number"})})})}),e.jsxs(g,{children:[a&&e.jsx(c,{color:a.type,dismissible:!0,children:a.message}),e.jsxs(x,{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(p,{htmlFor:"ZPNumber",children:"ZP Number"}),e.jsx(b,{type:"text",name:"ZPNumber",value:r.ZPNumber,onChange:d,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(p,{htmlFor:"EPCNumber",children:"EPC Number"}),e.jsx(b,{type:"text",name:"EPCNumber",value:r.EPCNumber,onChange:d,required:!0})]}),e.jsx(N,{type:"submit",disabled:i,className:"w-full",color:"primary",children:i?"Updating...":"Update Member"})]})]})]})};export{S as default};
