import{o as N,r as v,j as e}from"./index--2Vg46XJ.js";import{a as o}from"./index.esm-CI-HiMCL.js";import{S as h}from"./sweetalert2.all-BHDornT5.js";import{C as k,a as w,b as E}from"./CForm-uSoNT2u_.js";import{C as u}from"./CCardTitle-Bhw-tENH.js";import{a as C,c as l,b as i}from"./CFormInput-DcpM5UbD.js";import{c as P}from"./cil-arrow-thick-left-CYRoSyxD.js";import{C as S}from"./CAlert-CwhgRHPq.js";import{C as m,a}from"./CRow-BUZD3U73.js";import{C as n,a as t}from"./CInputGroupText-Bft_3Juj.js";import{c as x}from"./cil-user-Ddrdy7PS.js";import{c as T,d as F,b as I,e as B,a as f}from"./cil-task-CZ8uydwE.js";import{a as y}from"./index-Bp6JkL8A.js";import"./CCloseButton-CvX7nGj0.js";const H=()=>{let p=N();const[r,b]=v.useState({firstName:"",middleName:"",surname:"",idNumber:"",phoneNumber:"",department:"",jobType:"",profession:"",employeeNo:"",status:"1"}),s=d=>{b({...r,[d.target.name]:d.target.value})},g=async d=>{d.preventDefault();try{const c=await fetch("http://192.168.13.244:9595/api/employee/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!c.ok)throw new Error("Failed to register employee");const j=await c.text();if(console.log(c),console.log(j),c.ok)if(j.trim()=="Employee exists!"){h.fire({icon:"error",title:"Employee Already Exists",text:"Failed to register employee"});return}else h.fire({icon:"success",title:"Success!",text:"Employee registered successfully"}).finally(()=>{p("/employees")});b({firstName:"",middleName:"",surname:"",idNumber:"",phoneNumber:"",department:"",jobType:"",profession:"",employeeNo:"",status:"1"})}catch{h.fire({icon:"error",title:"Oops...",text:"Failed to register employee"})}};return e.jsx(e.Fragment,{children:e.jsx(k,{className:"d-flex justify-content-center mt-4 p-3",style:{boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",maxWidth:"70rem",margin:"0 auto"},children:e.jsxs(w,{children:[e.jsx(u,{className:"mb-3",children:e.jsxs(C,{onClick:()=>p(-1),color:"primary",variant:"outline",children:[e.jsx(o,{icon:P,style:{marginRight:"6px"}}),"Back"]})}),e.jsx(u,{children:e.jsxs(S,{color:"primary",variant:"solid",style:{display:"flex"},children:[e.jsxs("svg",{style:{marginRight:"8px"},xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",fill:"currentColor",class:"bi bi-person-fill-add",viewBox:"0 0 16 16",children:[e.jsx("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}),e.jsx("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4"})]}),e.jsx("h3",{children:"Employee Registration Form"})]})}),e.jsxs(E,{onSubmit:g,children:[e.jsxs(m,{children:[e.jsxs(a,{md:6,children:[e.jsx(l,{children:"First Name"}),e.jsxs(n,{className:"mb-2",children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:x})}),e.jsx(i,{type:"text",name:"firstName",placeholder:"First Name",value:r.firstName,onChange:s,style:{borderColor:"blue"}})]})]}),e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Middle Name"}),e.jsxs(n,{className:"mb-2",children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:x})}),e.jsx(i,{type:"text",name:"middleName",placeholder:"Middle Name",value:r.middleName,onChange:s,style:{borderColor:"blue"}})]})]})]}),e.jsxs(m,{children:[e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Surname"}),e.jsxs(n,{children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:x})}),e.jsx(i,{type:"text",name:"surname",placeholder:"surname",value:r.surname,onChange:s,style:{borderColor:"blue"}})]})]}),e.jsxs(a,{md:6,children:[e.jsx(l,{children:"National ID"}),e.jsxs(n,{children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:T})}),e.jsx(i,{type:"number",name:"idNumber",placeholder:"National ID",value:r.idNumber,onChange:s,style:{borderColor:"blue"}})]})]})]}),e.jsxs(m,{children:[e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Phone Number"}),e.jsxs(n,{className:"mb-2",children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:F})}),e.jsx(i,{type:"text",name:"phoneNumber",placeholder:"Mobile",value:r.phoneNumber,onChange:s,style:{borderColor:"blue"}})]})]}),e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Department"}),e.jsxs(n,{children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:I})}),e.jsxs(y,{name:"department",value:r.department,onChange:s,style:{borderColor:"blue"},children:[e.jsx("option",{children:"Department"}),e.jsx("option",{value:"Parish",children:"Parish"}),e.jsx("option",{value:"CBM",children:"CBM"}),e.jsx("option",{value:"NIMPA",children:"NIMPA"})]})]})]})]}),e.jsxs(m,{children:[e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Job Type"}),e.jsxs(n,{children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:B})}),e.jsxs(y,{name:"jobType",value:r.jobType,onChange:s,style:{borderColor:"blue"},children:[e.jsx("option",{children:"Job Type"}),e.jsx("option",{value:"Permanent",children:"Permanent"}),e.jsx("option",{value:"Intern",children:"Intern"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Casuals",children:"Casuals"}),e.jsx("option",{value:"Employment Contract",children:"Employment Contract"}),e.jsx("option",{value:"Service Contract",children:"Service Contract"})]})]})]}),e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Profession"}),e.jsxs(n,{className:"mb-3",children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:f})}),e.jsx(i,{type:"text",name:"profession",placeholder:"Profession",value:r.profession,onChange:s,style:{borderColor:"blue"}})]})]}),e.jsxs(a,{md:6,children:[e.jsx(l,{children:"Employee Number"}),e.jsxs(n,{className:"mb-3",children:[e.jsx(t,{style:{borderColor:"rgb(71, 71, 212)",backgroundColor:"rgb(71, 71, 212)",color:"#fff"},children:e.jsx(o,{icon:f})}),e.jsx(i,{type:"text",name:"employeeNo",placeholder:"Employee Number",value:r.employeeNo,onChange:s,style:{borderColor:"blue"}})]})]})]}),e.jsx(C,{type:"submit",color:"primary",children:"Register"})]})]})})})};export{H as default};
